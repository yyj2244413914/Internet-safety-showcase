# SecureDataFlow 协同计算任务关于后端的大致内容

- 以下是代码中需要的后端API及提交到后端的部分信息，包含API端点、请求方式、数据内容及在代码中的位置：

### 1. 任务状态概览数据API
- **API端点**：`/api/task/overview`
- **请求方式**：GET
- **代码位置**：`loadTaskOverviewData()` 函数中
- **功能**：获取总任务数、运行中任务数等概览数据
```javascript
// 代码片段
fetch('/api/task/overview')
  .then(response => { ... })
  .then(data => { ... })
```

### 2. 计算类型选项API
- **API端点**：`/api/task/types`
- **请求方式**：GET
- **代码位置**：`loadTaskTypes()` 函数中
- **功能**：获取任务计算类型的选项列表
```javascript
// 代码片段
fetch('/api/task/types')
  .then(response => { ... })
  .then(data => { ... })
```

### 3. 部门列表API
- **API端点**：`/api/departments`
- **请求方式**：GET
- **代码位置**：`loadDepartments()` 函数中
- **功能**：获取参与部门的选项列表
```javascript
// 代码片段
fetch('/api/departments')
  .then(response => { ... })
  .then(data => { ... })
```

### 4. 数据资源列表API
- **API端点**：`/api/data/sources`
- **请求方式**：GET
- **代码位置**：`loadDataSources()` 函数中
- **功能**：获取可选择的数据资源列表
```javascript
// 代码片段
fetch('/api/data/sources')
  .then(response => { ... })
  .then(data => { ... })
```

### 5. 可用节点列表API
- **API端点**：`/api/orchestration/nodes`
- **请求方式**：GET
- **代码位置**：`loadAvailableNodes()` 函数中
- **功能**：获取可用的计算节点列表
```javascript
// 代码片段
fetch('/api/orchestration/nodes')
  .then(response => { ... })
  .then(data => { ... })
```

### 6. TEE验证数据API
- **API端点**：`/api/tee/verification`
- **请求方式**：GET
- **代码位置**：`loadTEEVerificationData()` 函数中
- **功能**：获取TEE节点的验证信息
```javascript
// 代码片段
fetch('/api/tee/verification')
  .then(response => { ... })
  .then(data => { ... })
```

### 7. 运行中任务API
- **API端点**：`/api/tasks/running`
- **请求方式**：GET
- **代码位置**：`loadRunningTasks()` 函数中
- **功能**：获取当前运行中的任务列表
```javascript
// 代码片段
fetch('/api/tasks/running')
  .then(response => { ... })
  .then(data => { ... })
```

### 8. 任务列表（日志选择）API
- **API端点**：`/api/tasks`
- **请求方式**：GET
- **代码位置**：`loadTaskLogSelector()` 函数中
- **功能**：获取所有任务列表（用于日志选择器）
```javascript
// 代码片段
fetch('/api/tasks')
  .then(response => { ... })
  .then(data => { ... })
```

### 9. 任务日志API
- **API端点**：`/api/tasks/{taskId}/logs`（动态参数）
- **请求方式**：GET
- **代码位置**：`loadTaskLogs(taskId)` 函数中
- **功能**：获取指定任务的执行日志
```javascript
// 代码片段
fetch(`/api/tasks/${taskId}/logs`)
  .then(response => { ... })
  .then(logs => { ... })
```

### 10. 提交新任务API
- **API端点**：`/api/tasks`
- **请求方式**：POST
- **提交数据**：
  ```javascript
  {
    taskName: 任务名称,
    taskType: 计算类型,
    participatingDepartments: 参与部门ID数组,
    dataSources: 选中的数据资源ID数组,
    taskDescription: 任务描述,
    taskSchedule: 任务调度方式
  }
  ```
- **代码位置**：`submitTaskForm()` 函数中
- **功能**：创建并提交新的协同计算任务
```javascript
// 代码片段
fetch('/api/tasks', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(formData)
})
.then(response => { ... })
```

### 11. 任务操作相关（函数定义中）
- 查看任务详情：`viewTaskDetails('${task.id}')`（需对应后端API支持）
- 暂停任务：`pauseTask('${task.id}')`（需对应后端API支持）
- 终止任务：`terminateTask('${task.id}')`（需对应后端API支持）
- （注：上述三个操作的具体API端点未在代码中完全实现）
